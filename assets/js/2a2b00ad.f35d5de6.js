"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8708],{3905:(a,e,t)=>{t.d(e,{Zo:()=>N,kt:()=>h});var s=t(7294);function n(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function m(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,s)}return t}function p(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?m(Object(t),!0).forEach((function(e){n(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}function r(a,e){if(null==a)return{};var t,s,n=function(a,e){if(null==a)return{};var t,s,n={},m=Object.keys(a);for(s=0;s<m.length;s++)t=m[s],e.indexOf(t)>=0||(n[t]=a[t]);return n}(a,e);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(a);for(s=0;s<m.length;s++)t=m[s],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(a,t)&&(n[t]=a[t])}return n}var l=s.createContext({}),i=function(a){var e=s.useContext(l),t=e;return a&&(t="function"==typeof a?a(e):p(p({},e),a)),t},N=function(a){var e=i(a.components);return s.createElement(l.Provider,{value:e},a.children)},k="mdxType",c={inlineCode:"code",wrapper:function(a){var e=a.children;return s.createElement(s.Fragment,{},e)}},o=s.forwardRef((function(a,e){var t=a.components,n=a.mdxType,m=a.originalType,l=a.parentName,N=r(a,["components","mdxType","originalType","parentName"]),k=i(t),o=n,h=k["".concat(l,".").concat(o)]||k[o]||c[o]||m;return t?s.createElement(h,p(p({ref:e},N),{},{components:t})):s.createElement(h,p({ref:e},N))}));function h(a,e){var t=arguments,n=e&&e.mdxType;if("string"==typeof a||n){var m=t.length,p=new Array(m);p[0]=o;var r={};for(var l in e)hasOwnProperty.call(e,l)&&(r[l]=e[l]);r.originalType=a,r[k]="string"==typeof a?a:n,p[1]=r;for(var i=2;i<m;i++)p[i]=t[i];return s.createElement.apply(null,p)}return s.createElement.apply(null,t)}o.displayName="MDXCreateElement"},2662:(a,e,t)=>{t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>p,default:()=>k,frontMatter:()=>m,metadata:()=>r,toc:()=>i});var s=t(7462),n=(t(7294),t(3905));const m={id:"ml-system-design",title:"ML System Design",sidebar_label:"2 - ML System Design",hide_title:!1,hide_table_of_contents:!1,tags:["machine-learning","learning-algorithm"],draft:!1,last_updated:new Date("2019-10-25T00:00:00.000Z")},p=void 0,r={unversionedId:"learning/machine-learning/improve-learning-algorithm/ml-system-design",id:"learning/machine-learning/improve-learning-algorithm/ml-system-design",title:"ML System Design",description:"\u6211\u5011\u5c07\u5f9e\u5efa\u7acb\u4e00\u500b Spam Classifier \u4e86\u89e3\u8a2d\u8a08\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\u6240\u9700\u8981\u6ce8\u610f\u7684\u4e8b\u60c5\u3002\u9019\u500b Classifier \u5c07\u6703\u6559\u6211\u5011\u5982\u4f55\u6536\u96c6\u8cc7\u6599\u3001\u64b0\u5beb algorithm \u4e26\u5982\u4f55\u8655\u7406\u504f\u659c\u8cc7\u6599\uff0c\u4ee5\u53ca\u5982\u4f55\u5229\u7528 precision \u548c recall \u7684\u6982\u5ff5\u4f86\u8a55\u4f30\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\u7684\u6e96\u78ba\u5ea6\u3002\u6700\u5f8c\uff0c\u6211\u5011\u4e5f\u6703\u4e86\u89e3\u5230\u5982\u4f55\u5229\u7528\u5927\u91cf\u7684\u8cc7\u6599\u4f86\u63d0\u5347\u6f14\u7b97\u6cd5\u7684\u6e96\u78ba\u5ea6\u3002",source:"@site/docs/learning/2-machine-learning/6-improve-learning-algorithm/2-ml-system-design.mdx",sourceDirName:"learning/2-machine-learning/6-improve-learning-algorithm",slug:"/learning/machine-learning/improve-learning-algorithm/ml-system-design",permalink:"/learning/machine-learning/improve-learning-algorithm/ml-system-design",draft:!1,editUrl:"https://github.com/windsuzu/windsuzu.github.io/tree/master/docs/learning/2-machine-learning/6-improve-learning-algorithm/2-ml-system-design.mdx",tags:[{label:"machine-learning",permalink:"/tags/machine-learning"},{label:"learning-algorithm",permalink:"/tags/learning-algorithm"}],version:"current",lastUpdatedAt:1680453120,formattedLastUpdatedAt:"2023\u5e744\u67082\u65e5",sidebarPosition:2,frontMatter:{id:"ml-system-design",title:"ML System Design",sidebar_label:"2 - ML System Design",hide_title:!1,hide_table_of_contents:!1,tags:["machine-learning","learning-algorithm"],draft:!1,last_updated:"2019-10-25T00:00:00.000Z"},sidebar:"learning",previous:{title:"1 - Advice for Applying ML",permalink:"/learning/machine-learning/improve-learning-algorithm/advice-for-applying-ml"},next:{title:"Biology",permalink:"/learning/biology/"}},l={},i=[{value:"Prioritizing What to Work On",id:"prioritizing-what-to-work-on",level:2},{value:"Error Analysis",id:"error-analysis",level:2},{value:"Handling Skewed Data",id:"handling-skewed-data",level:2},{value:"Error Matrices (Precision and Recall)",id:"error-matrices-precision-and-recall",level:2},{value:"Precision",id:"precision",level:3},{value:"Recall",id:"recall",level:3},{value:"Trade Off Precision and Recall",id:"trade-off-precision-and-recall",level:3},{value:"F score",id:"f-score",level:3},{value:"Using Large Data Sets",id:"using-large-data-sets",level:2}],N={toc:i};function k(a){let{components:e,...t}=a;return(0,n.kt)("wrapper",(0,s.Z)({},N,t,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"\u6211\u5011\u5c07\u5f9e\u5efa\u7acb\u4e00\u500b Spam Classifier \u4e86\u89e3\u8a2d\u8a08\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\u6240\u9700\u8981\u6ce8\u610f\u7684\u4e8b\u60c5\u3002\u9019\u500b Classifier \u5c07\u6703\u6559\u6211\u5011\u5982\u4f55\u6536\u96c6\u8cc7\u6599\u3001\u64b0\u5beb algorithm \u4e26\u5982\u4f55\u8655\u7406\u504f\u659c\u8cc7\u6599\uff0c\u4ee5\u53ca\u5982\u4f55\u5229\u7528 precision \u548c recall \u7684\u6982\u5ff5\u4f86\u8a55\u4f30\u6a5f\u5668\u5b78\u7fd2\u7cfb\u7d71\u7684\u6e96\u78ba\u5ea6\u3002\u6700\u5f8c\uff0c\u6211\u5011\u4e5f\u6703\u4e86\u89e3\u5230\u5982\u4f55\u5229\u7528\u5927\u91cf\u7684\u8cc7\u6599\u4f86\u63d0\u5347\u6f14\u7b97\u6cd5\u7684\u6e96\u78ba\u5ea6\u3002"),(0,n.kt)("h2",{id:"prioritizing-what-to-work-on"},"Prioritizing What to Work On"),(0,n.kt)("p",null,"\u5728\u8a13\u7df4\u4e00\u500b spam classifier \u6642"),(0,n.kt)("p",null,"\u901a\u5e38\u6703\u5efa\u7acb\u4e00\u500b 10000 ~ 50000 entries \u7684 vector"),(0,n.kt)("p",null,"\u88e1\u9762\u5b58\u653e\u4e00\u4e9b\u5e38\u898b\u8a5e for spam/not spam"),(0,n.kt)("p",null,"\u6bcf\u4e00\u500b entries words \u51fa\u73fe\u5728\u4fe1\u4e2d\u5c31\u6a19\u4e0a 1\uff0c\u6c92\u6709\u51fa\u73fe\u5c31\u6a19\u4e0a 0"),(0,n.kt)("fig",{src:"/img/learning/machine-learning/06-improve-learning-algorithm/02-ml-system-design/spam_classifier.png",caption:"Spam Classifier"}),(0,n.kt)("p",null,"\u6240\u4ee5\u5728\u5be6\u4f5c\u4e2d\uff0c\u8981\u600e\u9ebc\u6a23\u589e\u52a0 classifier \u7684 accuracy \u5462 ?"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u6536\u96c6\u5927\u91cf\u8cc7\u6599 (\u4f8b\u5982 honeypot)"),(0,n.kt)("li",{parentName:"ul"},"\u627e\u51fa\u4e00\u4e9b sophisticated features (\u4f8b\u5982 email header \u7684 data \u4f5c\u70ba features)"),(0,n.kt)("li",{parentName:"ul"},"\u5347\u7d1a\u6211\u5011\u7684 algorithm (\u4f8b\u5982\u8fa8\u8b58 misspelling in spam)")),(0,n.kt)("p",null,"\u5728\u5be6\u4f5c\u4e2d\uff0c\u5f88\u96e3\u6c7a\u5b9a\u54ea\u4e00\u500b\u624d\u662f\u6700\u597d\u7684\u65b9\u6cd5 ..."),(0,n.kt)("h2",{id:"error-analysis"},"Error Analysis"),(0,n.kt)("p",null,"\u6240\u4ee5\u5728\u5be6\u4f5c\u4e00\u500b machine learning project \u6642\uff0c\u63a8\u85a6\u53ef\u4ee5\u9019\u6a23\u505a :"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u5feb\u901f\u88fd\u4f5c\u4e00\u500b\u7c21\u55ae\u7684 learning algorithm \u7136\u5f8c\u65e9\u4e00\u9ede\u5229\u7528 cross validation set \u6e2c\u8a66"),(0,n.kt)("li",{parentName:"ol"},"Plot learning curves \u5230\u81ea\u5df1\u7684 algorithm \u4f86\u5224\u65b7\u4e0b\u4e00\u6b65"),(0,n.kt)("li",{parentName:"ol"},"\u624b\u52d5\u6e2c\u8a66 cross validation \u7684\u7d50\u679c\uff0c\u4f86\u67e5\u770b\u54ea\u88e1\u624d\u662f algorithm \u7684\u5f31\u9ede")),(0,n.kt)("p",null,"\u8209\u500b\u4f8b\u5b50 :"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"500 \u500b emails \u4e2d\u6211\u5011\u8aa4\u5224\u4e86 100 \u500b"),(0,n.kt)("li",{parentName:"ul"},"\u6211\u5011\u53ef\u4ee5\u624b\u52d5\u6aa2\u67e5\u9019 100 \u500b\u932f\u5728\u54ea\u88e1"),(0,n.kt)("li",{parentName:"ul"},"\u6211\u5011\u5728\u91dd\u5c0d\u932f\u7684\u5730\u65b9\uff0c\u52a0\u5165\u65b0\u7684 features"),(0,n.kt)("li",{parentName:"ul"},"\u4f8b\u5982\u5176\u4e2d\u6709 50 \u5c01\u90fd\u662f\u91e3\u9b5a\u4fe1\uff0c\u4ee3\u8868\u6211\u5011\u8981\u518d\u589e\u5f37\u8fa8\u8b58\u91e3\u9b5a\u4fe1\u7684\u6f14\u7b97\u6cd5")),(0,n.kt)("p",null,"\u53e6\u5916\u5728\u5be6\u4f5c\u6642\uff0c\u4e5f\u8981\u7fd2\u6163\u628a\u5be6\u969b\u6578\u5b57\u8a18\u9304\u4e0b\u4f86"),(0,n.kt)("p",null,"\u4f8b\u5982\u6211\u5011\u662f\u5426\u8981\u628a discount / discounts / discounted / discounting \u8996\u70ba\u4e00\u6a23\u7684\u610f\u601d"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u7576\u6c92\u6709\u5229\u7528 steming \u6642 error \u70ba 5%"),(0,n.kt)("li",{parentName:"ul"},"\u5229\u7528 steming \u6642 error \u70ba 3%"),(0,n.kt)("li",{parentName:"ul"},"steming + case detection \u6642 error \u70ba 3.3%")),(0,n.kt)("p",null,"\u6240\u4ee5\u5c31\u53ef\u4ee5\u770b\u51fa\u600e\u9ebc\u505a\u624d\u662f\u6700\u597d\u7684\u65b9\u6cd5"),(0,n.kt)("h2",{id:"handling-skewed-data"},"Handling Skewed Data"),(0,n.kt)("p",null,"\u5047\u8a2d\u6211\u5011\u6709\u4e00\u500b logistic regression model"),(0,n.kt)("p",null,"\u7528\u4f86 predict y = 1 \u6642\u70ba cancer\uff0cy = 0 \u6642\u6c92\u6709 cancer"),(0,n.kt)("p",null,"\u9019\u500b model \u5728 test set \u9810\u6e2c\u4e86 99% \u6b63\u78ba\uff0c\u53ea\u6709 1% error"),(0,n.kt)("p",null,"\u4f46\u7d50\u679c\u5f8c\u4f86\u767c\u73fe\uff0c\u6839\u672c\u53ea\u6709 0.5% \u7684\u75c5\u4eba\u6709 cancer"),(0,n.kt)("p",null,"\u4ee3\u8868\u6211\u7528\u4e00\u500b\u6f14\u7b97\u6cd5\uff0c\u5168\u90e8\u90fd\u731c 0 \u9084\u6709\u66f4\u9ad8\u7684 0.5% \u7684\u6b63\u78ba\u7387 !"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-matlab"},"function y = predictCancer(x)\n    y = 0;  % ignore x, always equals to zero\nreturn\n")),(0,n.kt)("p",null,"\u9019\u500b test set \u5c31\u662f\u4e00\u500b ",(0,n.kt)("inlineCode",{parentName:"p"},"skewed classes")),(0,n.kt)("h2",{id:"error-matrices-precision-and-recall"},"Error Matrices (Precision and Recall)"),(0,n.kt)("p",null,"\u6240\u4ee5\u6211\u5011\u7528\u4e00\u500b precision/recall \u7684 table \u4f86\u6aa2\u9a57\u4e00\u4e0b\u6b63\u78ba\u7387"),(0,n.kt)("p",null,"\u9019\u500b\u65b9\u6cd5\u53ef\u4ee5\u907f\u514d skewed classes"),(0,n.kt)("p",null,"\u6211\u5011\u8a2d\u5b9a",(0,n.kt)("strong",{parentName:"p"},"\u5de6\u908a"),"\u70ba\u4f60\u7684 predict class\uff0c\u800c",(0,n.kt)("strong",{parentName:"p"},"\u53f3\u908a"),"\u70ba actual class"),(0,n.kt)("fig",{src:"/img/learning/machine-learning/06-improve-learning-algorithm/02-ml-system-design/precision_recall_table.png",caption:"Precision and Recall Table"}),(0,n.kt)("p",null,"\u6240\u4ee5\u5206\u5225\u6703\u6709\u4ee5\u4e0b\u5e7e\u7a2e\u7d50\u679c"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"True Positive")," : \u731c 1 \u7136\u5f8c\u731c\u5c0d"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"False Positive")," : \u731c 1 \u7d50\u679c\u731c\u932f"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"False Negative")," : \u731c 0 \u7d50\u679c\u731c\u932f"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"True Negative")," : \u731c 0 \u7136\u5f8c\u731c\u5c0d")),(0,n.kt)("p",null,"\u63a5\u4e0b\u4f86\u6211\u5011\u5c31\u53ef\u4ee5\u4f86\u8a08\u7b97 Precision \u548c Recall"),(0,n.kt)("h3",{id:"precision"},"Precision"),(0,n.kt)("p",null,"\u5728 model \u9810\u6e2c\u7684\u731c\u6e2c\u7684 y = 1 \u4e2d\uff0c\u6709\u591a\u5c11\u7684 fraction \u662f\u771f\u6b63\u70ba 1"),(0,n.kt)("p",null,"\u7c21\u55ae\u4f86\u8aaa\u5c31\u662f\u6211\u731c 1 \u7136\u5f8c\u4e2d\u734e\u7684\u6a5f\u7387\u6709\u591a\u5c11\u5566"),(0,n.kt)("div",{className:"math math-display"},(0,n.kt)("span",{parentName:"div",className:"katex-display"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mfrac",{parentName:"mrow"},(0,n.kt)("mtext",{parentName:"mfrac"},"True\xa0positives"),(0,n.kt)("mtext",{parentName:"mfrac"},"Predicted\xa0positives")),(0,n.kt)("mo",{parentName:"mrow"},"="),(0,n.kt)("mfrac",{parentName:"mrow"},(0,n.kt)("mtext",{parentName:"mfrac"},"True\xa0positives"),(0,n.kt)("mtext",{parentName:"mfrac"},"True\xa0positives\xa0+\xa0False\xa0positives"))),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\frac{\\text{True positives}}{\\text{Predicted positives}} = \\frac{\\text{True positives}}{\\text{True positives + False positives}}")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"2.2408em",verticalAlign:"-0.8804em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mopen nulldelimiter"}),(0,n.kt)("span",{parentName:"span",className:"mfrac"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"1.3603em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.314em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord text"},(0,n.kt)("span",{parentName:"span",className:"mord"},"Predicted\xa0positives")))),(0,n.kt)("span",{parentName:"span",style:{top:"-3.23em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.kt)("span",{parentName:"span",className:"frac-line",style:{borderBottomWidth:"0.04em"}})),(0,n.kt)("span",{parentName:"span",style:{top:"-3.677em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord text"},(0,n.kt)("span",{parentName:"span",className:"mord"},"True\xa0positives"))))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.8804em"}},(0,n.kt)("span",{parentName:"span"}))))),(0,n.kt)("span",{parentName:"span",className:"mclose nulldelimiter"})),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.kt)("span",{parentName:"span",className:"mrel"},"="),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"2.2408em",verticalAlign:"-0.8804em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mopen nulldelimiter"}),(0,n.kt)("span",{parentName:"span",className:"mfrac"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"1.3603em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.314em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord text"},(0,n.kt)("span",{parentName:"span",className:"mord"},"True\xa0positives\xa0+\xa0False\xa0positives")))),(0,n.kt)("span",{parentName:"span",style:{top:"-3.23em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.kt)("span",{parentName:"span",className:"frac-line",style:{borderBottomWidth:"0.04em"}})),(0,n.kt)("span",{parentName:"span",style:{top:"-3.677em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord text"},(0,n.kt)("span",{parentName:"span",className:"mord"},"True\xa0positives"))))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.8804em"}},(0,n.kt)("span",{parentName:"span"}))))),(0,n.kt)("span",{parentName:"span",className:"mclose nulldelimiter"}))))))),(0,n.kt)("h3",{id:"recall"},"Recall"),(0,n.kt)("p",null,"\u5728\u771f\u5be6\u60c5\u6cc1\u4e0b y = 1 \u4e2d\uff0c\u6709\u591a\u5c11\u662f\u6211\u731c\u5c0d\u7684"),(0,n.kt)("p",null,"\u7c21\u55ae\u4f86\u8aaa\u5c31\u662f actual = 1 \u6642\uff0c\u6211\u525b\u597d\u731c\u5c0d y = 1 \u7684\u6a5f\u7387\u6709\u591a\u5c11"),(0,n.kt)("div",{className:"math math-display"},(0,n.kt)("span",{parentName:"div",className:"katex-display"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mfrac",{parentName:"mrow"},(0,n.kt)("mtext",{parentName:"mfrac"},"True\xa0positives"),(0,n.kt)("mtext",{parentName:"mfrac"},"Actual\xa0positives")),(0,n.kt)("mo",{parentName:"mrow"},"="),(0,n.kt)("mfrac",{parentName:"mrow"},(0,n.kt)("mtext",{parentName:"mfrac"},"True\xa0positives"),(0,n.kt)("mtext",{parentName:"mfrac"},"True\xa0positives\xa0+\xa0False\xa0negatives"))),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\frac{\\text{True positives}}{\\text{Actual positives}} = \\frac{\\text{True positives}}{\\text{True positives + False negatives}}")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"2.2408em",verticalAlign:"-0.8804em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mopen nulldelimiter"}),(0,n.kt)("span",{parentName:"span",className:"mfrac"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"1.3603em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.314em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord text"},(0,n.kt)("span",{parentName:"span",className:"mord"},"Actual\xa0positives")))),(0,n.kt)("span",{parentName:"span",style:{top:"-3.23em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.kt)("span",{parentName:"span",className:"frac-line",style:{borderBottomWidth:"0.04em"}})),(0,n.kt)("span",{parentName:"span",style:{top:"-3.677em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord text"},(0,n.kt)("span",{parentName:"span",className:"mord"},"True\xa0positives"))))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.8804em"}},(0,n.kt)("span",{parentName:"span"}))))),(0,n.kt)("span",{parentName:"span",className:"mclose nulldelimiter"})),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.kt)("span",{parentName:"span",className:"mrel"},"="),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"2.2408em",verticalAlign:"-0.8804em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mopen nulldelimiter"}),(0,n.kt)("span",{parentName:"span",className:"mfrac"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"1.3603em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.314em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord text"},(0,n.kt)("span",{parentName:"span",className:"mord"},"True\xa0positives\xa0+\xa0False\xa0negatives")))),(0,n.kt)("span",{parentName:"span",style:{top:"-3.23em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.kt)("span",{parentName:"span",className:"frac-line",style:{borderBottomWidth:"0.04em"}})),(0,n.kt)("span",{parentName:"span",style:{top:"-3.677em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord text"},(0,n.kt)("span",{parentName:"span",className:"mord"},"True\xa0positives"))))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.8804em"}},(0,n.kt)("span",{parentName:"span"}))))),(0,n.kt)("span",{parentName:"span",className:"mclose nulldelimiter"}))))))),(0,n.kt)("p",null,"\u5982\u6b64\u4e00\u4f86\uff0c\u5c31\u7b97\u4f60\u5728 skewed classes \u731c\u4e2d 99%"),(0,n.kt)("p",null,"\u4f46\u56e0\u70ba\u4f60\u7684 ",(0,n.kt)("strong",{parentName:"p"},"Actual positives")," \u5f88\u5c0f\u5f88\u5c0f"),(0,n.kt)("p",null,"\u6240\u4ee5\u4f60\u7684 recall \u4e0d\u662f\u5f88\u5c0f\u5c31\u662f\u7b49\u65bc 0"),(0,n.kt)("p",null,"\u5c31\u53ef\u4ee5\u907f\u514d\u9019\u7a2e\u50cf ",(0,n.kt)("strong",{parentName:"p"},"cheating")," \u7684\u7d50\u679c\u51fa\u73fe"),(0,n.kt)("h3",{id:"trade-off-precision-and-recall"},"Trade Off Precision and Recall"),(0,n.kt)("p",null,"\u5176\u5be6\u6211\u5011\u662f\u5f88\u96e3\u6eff\u8db3 high precision \u53c8 high recall \u7684"),(0,n.kt)("p",null,"\u4eca\u5929\u5047\u8a2d\u6211\u5011\u60f3\u8981\u63d0\u9ad8\u9810\u6e2c\u7684\u6e96\u78ba\u5ea6"),(0,n.kt)("p",null,"\u6211\u5011\u5c07 logistic regression \u6539\u70ba ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"h"),(0,n.kt)("mi",{parentName:"msub"},"\u03b8")),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,n.kt)("mi",{parentName:"mrow"},"x"),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,n.kt)("mo",{parentName:"mrow"},"\u2265"),(0,n.kt)("mn",{parentName:"mrow"},"0.9")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"h_\\theta(x) \\ge 0.9")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"h"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3361em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.02778em"}},"\u03b8")))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,n.kt)("span",{parentName:"span"})))))),(0,n.kt)("span",{parentName:"span",className:"mopen"},"("),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"x"),(0,n.kt)("span",{parentName:"span",className:"mclose"},")"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.kt)("span",{parentName:"span",className:"mrel"},"\u2265"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},"0.9")))))," \u6642 y = 1"),(0,n.kt)("p",null,"\u6240\u4ee5",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"h"),(0,n.kt)("mi",{parentName:"msub"},"\u03b8")),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,n.kt)("mi",{parentName:"mrow"},"x"),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,n.kt)("mo",{parentName:"mrow"},"<"),(0,n.kt)("mn",{parentName:"mrow"},"0.9")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"h_\\theta(x) < 0.9")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"h"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3361em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.02778em"}},"\u03b8")))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,n.kt)("span",{parentName:"span"})))))),(0,n.kt)("span",{parentName:"span",className:"mopen"},"("),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"x"),(0,n.kt)("span",{parentName:"span",className:"mclose"},")"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.kt)("span",{parentName:"span",className:"mrel"},"<"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},"0.9")))))," \u6642 y = 0"),(0,n.kt)("p",null,"\u9019\u9ebc\u4e00\u4f86\u5c31\u53ef\u4ee5\u975e\u5e38\u6709\u4fe1\u5fc3\u7684\u9810\u6e2c\u6210\u529f"),(0,n.kt)("p",null,"\u4f46\u4e5f\u56e0\u70ba threshold \u8a2d\u7684\u592a\u9ad8\uff0c\u6240\u4ee5\u6f0f\u770b\u4e86\u4e00\u4e9b\u53ef\u80fd\u7684 data"),(0,n.kt)("p",null,"\u6211\u5011\u5f97\u5230 ",(0,n.kt)("strong",{parentName:"p"},"higher precision, lower recall")),(0,n.kt)("p",null,"\u90a3\u9019\u6642\u5019\u6211\u5011\u6539\u6210 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"h"),(0,n.kt)("mi",{parentName:"msub"},"\u03b8")),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,n.kt)("mi",{parentName:"mrow"},"x"),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,n.kt)("mo",{parentName:"mrow"},"\u2265"),(0,n.kt)("mn",{parentName:"mrow"},"0.3")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"h_\\theta(x) \\ge 0.3")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"h"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3361em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.02778em"}},"\u03b8")))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,n.kt)("span",{parentName:"span"})))))),(0,n.kt)("span",{parentName:"span",className:"mopen"},"("),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"x"),(0,n.kt)("span",{parentName:"span",className:"mclose"},")"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.kt)("span",{parentName:"span",className:"mrel"},"\u2265"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},"0.3")))))," \u6642 y = 1"),(0,n.kt)("p",null,"\u800c ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"h"),(0,n.kt)("mi",{parentName:"msub"},"\u03b8")),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,n.kt)("mi",{parentName:"mrow"},"x"),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,n.kt)("mo",{parentName:"mrow"},"<"),(0,n.kt)("mn",{parentName:"mrow"},"0.3")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"h_\\theta(x) < 0.3")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"h"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3361em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.02778em"}},"\u03b8")))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,n.kt)("span",{parentName:"span"})))))),(0,n.kt)("span",{parentName:"span",className:"mopen"},"("),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"x"),(0,n.kt)("span",{parentName:"span",className:"mclose"},")"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.kt)("span",{parentName:"span",className:"mrel"},"<"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6444em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},"0.3")))))," \u6642 y = 0"),(0,n.kt)("p",null,"\u6b64\u6642\u5c07\u4e0d\u6703\u6f0f\u770b\u53ef\u80fd\u7684 data"),(0,n.kt)("p",null,"\u4f46\u7cbe\u6e96\u5ea6\u4e5f\u8b8a\u5f97\u5f88\u4f4e"),(0,n.kt)("p",null,"\u6211\u5011\u5f97\u5230 ",(0,n.kt)("strong",{parentName:"p"},"lower precision, higher recall")),(0,n.kt)("p",null,"\u756b\u6210\u5716\u8868\uff0c\u53ef\u80fd\u6703\u51fa\u73fe\u9019\u6a23\u7684\u7d50\u679c"),(0,n.kt)("fig",{src:"/img/learning/machine-learning/06-improve-learning-algorithm/02-ml-system-design/precision_recall_tradeoff.png",caption:"Precision and Recall Trade Off"}),(0,n.kt)("h3",{id:"f-score"},"F score"),(0,n.kt)("p",null,"\u73fe\u5728\u5047\u8a2d\u6211\u5011\u8a2d\u8a08\u51fa\u4e09\u500b algorithm (\u53ef\u80fd\u662f\u4e00\u500b algorithm \u7528\u4e09\u7a2e threshold)"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null}),(0,n.kt)("th",{parentName:"tr",align:null},"Precision (P)"),(0,n.kt)("th",{parentName:"tr",align:null},"Recall (R)"),(0,n.kt)("th",{parentName:"tr",align:null},"Average"),(0,n.kt)("th",{parentName:"tr",align:null},"F-score"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Algorithm 1"),(0,n.kt)("td",{parentName:"tr",align:null},"0.5"),(0,n.kt)("td",{parentName:"tr",align:null},"0.4"),(0,n.kt)("td",{parentName:"tr",align:null},"0.45"),(0,n.kt)("td",{parentName:"tr",align:null},"0.444")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Algorithm 2"),(0,n.kt)("td",{parentName:"tr",align:null},"0.7"),(0,n.kt)("td",{parentName:"tr",align:null},"0.1"),(0,n.kt)("td",{parentName:"tr",align:null},"0.4"),(0,n.kt)("td",{parentName:"tr",align:null},"0.175")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Algorithm 3"),(0,n.kt)("td",{parentName:"tr",align:null},"0.02"),(0,n.kt)("td",{parentName:"tr",align:null},"1.0"),(0,n.kt)("td",{parentName:"tr",align:null},"0.51"),(0,n.kt)("td",{parentName:"tr",align:null},"0.0392")))),(0,n.kt)("p",null,"\u6211\u5011\u8981\u600e\u9ebc\u5224\u65b7\u4e26\u53d6\u6368 precision \u548c recall \u7684\u642d\u914d\u5462"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Average")," ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mfrac",{parentName:"mrow"},(0,n.kt)("mrow",{parentName:"mfrac"},(0,n.kt)("mi",{parentName:"mrow"},"P"),(0,n.kt)("mo",{parentName:"mrow"},"+"),(0,n.kt)("mi",{parentName:"mrow"},"R")),(0,n.kt)("mn",{parentName:"mfrac"},"2"))),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\frac{P+R}{2}")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"1.2173em",verticalAlign:"-0.345em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mopen nulldelimiter"}),(0,n.kt)("span",{parentName:"span",className:"mfrac"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.8723em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.655em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},"2")))),(0,n.kt)("span",{parentName:"span",style:{top:"-3.23em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.kt)("span",{parentName:"span",className:"frac-line",style:{borderBottomWidth:"0.04em"}})),(0,n.kt)("span",{parentName:"span",style:{top:"-3.394em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"P"),(0,n.kt)("span",{parentName:"span",className:"mbin mtight"},"+"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.00773em"}},"R"))))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.345em"}},(0,n.kt)("span",{parentName:"span"}))))),(0,n.kt)("span",{parentName:"span",className:"mclose nulldelimiter"}))))))," \u986f\u7136\u662f\u4e0d\u884c\u7684"),(0,n.kt)("p",null,"\u56e0\u70ba\u4f7f\u7528 average \u4e0b\uff0c\u9078\u64c7\u7684 Algorithm 3 \u96d6\u7136 recall \u5f88\u9ad8\u4f46 precision \u6975\u4f4e"),(0,n.kt)("p",null,"\u9019\u908a\u53ef\u4ee5\u4f7f\u7528\u4e00\u500b\u7b97\u6cd5\u53eb\u505a ",(0,n.kt)("strong",{parentName:"p"},"F-score")),(0,n.kt)("div",{className:"math math-display"},(0,n.kt)("span",{parentName:"div",className:"katex-display"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mn",{parentName:"mrow"},"2"),(0,n.kt)("mo",{parentName:"mrow"},"\xd7"),(0,n.kt)("mfrac",{parentName:"mrow"},(0,n.kt)("mrow",{parentName:"mfrac"},(0,n.kt)("mi",{parentName:"mrow"},"P"),(0,n.kt)("mi",{parentName:"mrow"},"R")),(0,n.kt)("mrow",{parentName:"mfrac"},(0,n.kt)("mi",{parentName:"mrow"},"P"),(0,n.kt)("mo",{parentName:"mrow"},"+"),(0,n.kt)("mi",{parentName:"mrow"},"R")))),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"2 \\times \\frac{PR}{P+R}")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},"2"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,n.kt)("span",{parentName:"span",className:"mbin"},"\xd7"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"2.1297em",verticalAlign:"-0.7693em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mopen nulldelimiter"}),(0,n.kt)("span",{parentName:"span",className:"mfrac"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"1.3603em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.314em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.13889em"}},"P"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,n.kt)("span",{parentName:"span",className:"mbin"},"+"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.00773em"}},"R"))),(0,n.kt)("span",{parentName:"span",style:{top:"-3.23em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.kt)("span",{parentName:"span",className:"frac-line",style:{borderBottomWidth:"0.04em"}})),(0,n.kt)("span",{parentName:"span",style:{top:"-3.677em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.00773em"}},"PR")))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.7693em"}},(0,n.kt)("span",{parentName:"span"}))))),(0,n.kt)("span",{parentName:"span",className:"mclose nulldelimiter"}))))))),(0,n.kt)("p",null,"\u4ed6\u53ef\u4ee5\u6bd4 average \u66f4\u6709\u6548\u7684\u627e\u51fa\u9069\u7576\u7684 precision/recall \u7d44\u5408"),(0,n.kt)("h2",{id:"using-large-data-sets"},"Using Large Data Sets"),(0,n.kt)("p",null,"\u201c\u4e0d\u662f\u6bd4\u8f03\u8ab0\u7684 algorithm \u6bd4\u8f03\u597d\uff0c\u800c\u662f\u6bd4\u8f03\u8ab0\u6709\u6700\u591a data\u201d"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Useful test"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u7576\u4f60\u628a input x \u544a\u8a34\u4e00\u500b\u90a3\u500b\u9818\u57df\u7684\u5c08\u5bb6\u6642\uff0c\u4ed6\u80fd\u4e0d\u80fd\u5f88\u597d\u7684\u9810\u6e2c\u51fa y"),(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c\u53ef\u4ee5\uff0c\u4ee3\u8868\u4f60\u7684 input x \u5c31\u662f\u5145\u8db3\u7684"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u901a\u5e38\u6211\u5011\u9700\u8981\u7d50\u5408\u5169\u9805\u91cd\u9ede"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u4f60\u7684 learning algorithm \u7684 parameters \u8981\u5145\u8db3",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u8b93\u4f60\u7684 ",(0,n.kt)("span",{parentName:"li",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"J"),(0,n.kt)("mtext",{parentName:"msub"},"train")),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,n.kt)("mi",{parentName:"mrow"},"\u03b8"),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"J_{\\text{train}}(\\theta)")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.09618em"}},"J"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3175em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0962em",marginRight:"0.05em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord text mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},"train")))))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,n.kt)("span",{parentName:"span"})))))),(0,n.kt)("span",{parentName:"span",className:"mopen"},"("),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02778em"}},"\u03b8"),(0,n.kt)("span",{parentName:"span",className:"mclose"},")")))))," \u5f88\u5c0f"))),(0,n.kt)("li",{parentName:"ul"},"\u8981\u4f7f\u7528\u5927\u91cf\u7684 training set",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u5c31\u4e0d\u6703 overfitting"),(0,n.kt)("li",{parentName:"ul"},"\u6240\u4ee5 ",(0,n.kt)("span",{parentName:"li",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"J"),(0,n.kt)("mtext",{parentName:"msub"},"train")),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,n.kt)("mi",{parentName:"mrow"},"\u03b8"),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,n.kt)("mo",{parentName:"mrow"},"\u2248"),(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"J"),(0,n.kt)("mtext",{parentName:"msub"},"test")),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,n.kt)("mi",{parentName:"mrow"},"\u03b8"),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"J_{\\text{train}}(\\theta) \\approx J_{\\text{test}}(\\theta)")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.09618em"}},"J"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.3175em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0962em",marginRight:"0.05em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord text mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},"train")))))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,n.kt)("span",{parentName:"span"})))))),(0,n.kt)("span",{parentName:"span",className:"mopen"},"("),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02778em"}},"\u03b8"),(0,n.kt)("span",{parentName:"span",className:"mclose"},")"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.kt)("span",{parentName:"span",className:"mrel"},"\u2248"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.09618em"}},"J"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.2806em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0962em",marginRight:"0.05em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord text mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},"test")))))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,n.kt)("span",{parentName:"span"})))))),(0,n.kt)("span",{parentName:"span",className:"mopen"},"("),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02778em"}},"\u03b8"),(0,n.kt)("span",{parentName:"span",className:"mclose"},")")))))))))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u5169\u9805\u7d50\u5408\u5728\u4e00\u8d77\uff0c\u4ee3\u8868 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"J"),(0,n.kt)("mtext",{parentName:"msub"},"test")),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,n.kt)("mi",{parentName:"mrow"},"\u03b8"),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"J_\\text{test}(\\theta)")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.09618em"}},"J"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.2806em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0962em",marginRight:"0.05em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord text mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},"test"))))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,n.kt)("span",{parentName:"span"})))))),(0,n.kt)("span",{parentName:"span",className:"mopen"},"("),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02778em"}},"\u03b8"),(0,n.kt)("span",{parentName:"span",className:"mclose"},")")))))," \u5c31\u53ef\u4ee5\u5f88\u5c0f"))))}k.isMDXComponent=!0}}]);