---
id: has-selector
title: :has Selector
description: æœ¬æ–‡ä»‹ç´¹äº† CSS :has é¸æ“‡å™¨ï¼Œé€™æ˜¯ä¸€å€‹å¯ä»¥é€éå­å…ƒç´ ä¾†æ”¹è®Šçˆ¶å…ƒç´ çš„æ¨£å¼çš„é¸æ“‡å™¨ã€‚
sidebar_label: ğŸŸ© The :has Selector
hide_title: true
hide_table_of_contents: false
tags: [css, selector]
draft: false
last_update:
  date: 2022-10-09
---

<profile
  title="CSS :has A Parent Selector And It Is Better Than I Ever Could Have Hoped For"
  url="https://blog.webdevsimplified.com/2022-09/css-has-selector/"
  author="Web Dev Simplified"
  level="beginner"
  category={["html/css"]}
/>

å¦‚æœä½ æƒ³è¦<highlight>é€éå­å…ƒç´ ä¾†æ”¹è®Šçˆ¶å…ƒç´ çš„æ¨£å¼</highlight>ï¼Œé‚£éº¼ä½ å¯ä»¥ä½¿ç”¨æœ€è¿‘ CSS é‡‹å‡ºçš„ `:has` é¸æ“‡å™¨ã€‚

:::info
`:has` is a parent selector just released by CSS at the end of August 2022 in Chrome. It can be used to select parent elements that contain some specific child element. It can also be used with complex selectors, multiple selectors, or as a way to select some other elements.
:::

## Usage

ä»¥ä¸‹ä»‹ç´¹å››ç¨®ä¸åŒçš„ä½¿ç”¨æ–¹å¼ï¼Œåˆ†åˆ¥æ˜¯åŸºæœ¬ã€è¤‡é›œã€è¤‡æ•¸æ¢ä»¶ã€ä»¥åŠä½¿ç”¨çˆ¶å…ƒç´ ä¾†é¸æ“‡å­å…ƒç´ ã€‚

### Basic

For example, we want to add some `margin-bottom` to elements with the class of `heading`. But we only want to select those `heading` that contain any sub-elements with the class of `subtitle`.

èˆ‰ä¾‹ä¾†èªªï¼Œæˆ‘å€‘æƒ³å° `heading` åŠ ä¸Šé¡è‰²ï¼Œä½†æ˜¯æˆ‘å€‘åªæƒ³è¦é¸æ“‡é‚£äº›æœ‰ `subtitle` çš„ `heading`ã€‚æˆ‘å€‘å¯ä»¥é€™æ¨£å¯«ï¼š

```css
.heading:has(.subtitle) {
  margin-bottom: 1rem;
}
```

### Complex

æˆ‘å€‘ä¹Ÿå¯ä»¥åŠ å¼·æœå°‹æ¢ä»¶ï¼Œä¾‹å¦‚é¸æ“‡åŒ…å«**ç›´æ¥å­å…ƒç´  (>)** ç‚º `subtitle` ä¸¦ä¸”æ“æœ‰ `strong` å…ƒç´ ï¼Œè€Œä¸” `strong` å…ƒç´ çš„ `id` é‚„ç‚º `accent` çš„`heading`ï¼š

```css
.heading:has(> .subtitle strong#accent) {
  margin-bottom: 1rem;
}
```

### Multiple Conditions

æˆ‘å€‘ä¹Ÿå¯ä»¥ä½¿ç”¨é€—è™Ÿä¾†åŠ å…¥å¤šå€‹ (||) æ¢ä»¶ï¼Œä¾‹å¦‚é¸æ“‡åŒ…å« `subtitle` æˆ–æ˜¯ `p` çš„ `heading`ã€‚æˆ–æ˜¯åˆ©ç”¨å¤šå€‹ `:has` ä¾†é”æˆ (&&) çš„æ•ˆæœï¼Œä¾‹å¦‚é¸æ“‡åŒ…å« `subtitle` ä¸¦ä¸”åŒ…å« `p` çš„ `heading`ã€‚

```css
/* || */
.heading:has(.subtitle, p)
/* && */
.heading:has(.subtitle):has(p)
```

### Use parent to select child

æˆ‘å€‘ä¹Ÿå¯ä»¥ä½¿ç”¨çˆ¶å…ƒç´ ä¾†é¸æ“‡å­å…ƒç´ ï¼Œä¾‹å¦‚é¸æ“‡åŒ…å« `subtitle` çš„ `heading`ï¼Œä¸¦ä¸”å°å…¶ä¸­çš„ `p` åŠ ä¸Š `color: red`ã€‚

```css
.heading:has(.subtitle) p {
  color: red;
}
```

## Example

å¯¦éš›åˆ©ç”¨ Code Editor ä¾†çœ‹çœ‹ `:has` é¸æ“‡å™¨çš„æ•ˆæœå§ï¼

```jsx live noInline
const Heading = styled.h3`
  :has(.subtitle) {
    color: red;
  }
  :has(> .subtitle strong#accent) {
    color: blue;
  }
  :has(.subtitle):has(p) {
    color: green;
  }
  :has(.subtitle) p {
    color: orange;
  }
`;

render(
  <>
    <Heading>
      Heading 1<span className="subtitle">Yes</span>
    </Heading>
    <Heading>
      Heading 2
      <span className="subtitle">
        <strong id="accent">Wow</strong>
      </span>
    </Heading>
    <Heading>
      Heading 3<span className="subtitle">Hey</span>
      <p>Random text</p>
    </Heading>
  </>
);
```
