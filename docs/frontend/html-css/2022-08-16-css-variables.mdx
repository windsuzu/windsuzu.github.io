---
id: css-variables
title: CSS Variables
sidebar_label: ğŸŸ© CSS Variables
hide_title: true
hide_table_of_contents: false
tags: [css, css-variables]
description: æœ¬æ–‡ä»‹ç´¹äº†ä½¿ç”¨ CSS è®Šæ•¸ä¾†å»ºç«‹å¯è¢«é‡è¤‡ä½¿ç”¨çš„å±¬æ€§ï¼Œå¯ä»¥åœ¨ :root ä¸­å®šç¾©å…¨åŸŸè®Šæ•¸ï¼Œä¹Ÿå¯ä»¥åœ¨ä»»ä½• Selector ä¸­å®šç¾©å±€éƒ¨è®Šæ•¸ã€‚æ­¤å¤–ï¼Œæˆ‘å€‘è¿‘äº†ä½¿ç”¨ Media Query ä¾†å‹•æ…‹ä¿®æ”¹è®Šæ•¸çš„å€¼ï¼Œä»¥åŠå¦‚ä½•åœ¨ JavaScript å’Œ React ä¸­ä½¿ç”¨è®Šæ•¸ã€‚
draft: false
last_updated: 2022-08-16
---

<profile
  title="æ·±å…¥ç†è§£ CSS è®Šæ•¸ (CSS Variables)"
  url="https://www.oxxostudio.tw/articles/202011/css-variables.html"
  author="oxxo"
  level="beginner"
  category={["html/css"]}
/>

æœ¬æ–‡ä»‹ç´¹äº†ä½¿ç”¨ CSS è®Šæ•¸ä¾†å»ºç«‹å¯è¢«é‡è¤‡ä½¿ç”¨çš„å±¬æ€§ï¼Œå¯ä»¥åœ¨ `:root` ä¸­å®šç¾©å…¨åŸŸè®Šæ•¸ï¼Œä¹Ÿå¯ä»¥åœ¨ä»»ä½• Selector ä¸­å®šç¾©å±€éƒ¨è®Šæ•¸ã€‚æ­¤å¤–ï¼Œæˆ‘å€‘è¿‘äº†ä½¿ç”¨ Media Query ä¾†å‹•æ…‹ä¿®æ”¹è®Šæ•¸çš„å€¼ï¼Œä»¥åŠå¦‚ä½•åœ¨ JavaScript å’Œ React ä¸­ä½¿ç”¨è®Šæ•¸ã€‚

## Variable in CSS (`--` and `var`)

æˆ‘å€‘å¯ä»¥ä½¿ç”¨<highlight>é›™ç ´æŠ˜è™Ÿï¼ˆä¾‹å¦‚ï¼š`--any-variable`ï¼‰ä¾†å®šç¾©ä¸€å€‹ CSS è®Šæ•¸ï¼Œç„¶å¾Œç”¨ `var()` ä¾†ä½¿ç”¨å®ƒï¼šä¾‹å¦‚ï¼š`var(--any-variable)`ã€‚</highlight> æˆ‘å€‘åœ¨ä½¿ç”¨ `var()` æ™‚ï¼Œå¯ä»¥åœ¨ç¬¬äºŒå€‹åƒæ•¸ä¸­æŒ‡å®šä¸€å€‹é è¨­å€¼ï¼Œä¾‹å¦‚ï¼š`var(--any-variable, 0)`ã€‚

åœ¨ä¸‹é¢çš„ç¤ºç¯„æˆ‘å€‘ä½¿ç”¨ `h1-color` é€™å€‹è®Šæ•¸ä¾†å®šç¾© `h1` çš„é¡è‰²ï¼Œå¦‚æœæ²’æœ‰å®šç¾© `h1-color`ï¼Œå‰‡ä½¿ç”¨é è¨­å€¼ `#000`ã€‚

```css
:root {
  --h1-color: #0747ab;
}

h1 {
  color: var(--h1-color, #000);
}
```

## Global and Local Variables

å¦‚æœæˆ‘å€‘æƒ³è¦åœ¨æ•´å€‹å°ˆæ¡ˆä¸­ä½¿ç”¨åŒä¸€å€‹è®Šæ•¸ï¼Œå¯ä»¥åœ¨ `:root` Selector å®šç¾©è®Šæ•¸ï¼Œé€™æ¨£æ‰€æœ‰çš„å…ƒç´ éƒ½å¯ä»¥ä½¿ç”¨é€™å€‹è®Šæ•¸ã€‚åä¹‹ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥åœ¨ä»»ä½• Selector ä¸­ç›´æ¥å®šç¾©è®Šæ•¸ã€‚

```css
:root {
  // highlight-next-line
  --h1-color: #0747ab; /* Global */
}

h1 {
  color: var(--h1-color, #000);

  // highlight-next-line
  --bg-color: #f0f0f0; /* Local */
  background-color: var(--bg-color);
}
```

ä½†è¦æ³¨æ„ï¼Œå¦‚æœé‡è¤‡å®šç¾©è®Šæ•¸ï¼Œå‰‡æœƒä»¥æœ€æ¥è¿‘å…ƒç´ çš„ Selector ç‚ºä¸»ã€‚

```css
:root {
  --h: #f00;
}

h1 {
  // highlight-next-line
  --h: #00c; /* this will be used */
  color: var(--h);
}
```

## Media Query

æˆ‘å€‘å¯ä»¥åœ¨ Media Query ä¸­å‹•æ…‹ä¿®æ”¹è®Šæ•¸çš„å€¼ï¼Œä¾‹å¦‚ï¼šåœ¨è¢å¹•å¯¬åº¦å°æ–¼ 768px æ™‚ï¼Œå°‡æ–‡å­—å¤§å°ç¸®å°ã€‚

```css
:root {
  --h1-size: 30px;
}

@media (max-width: 768px) {
  :root {
    --h1-size: 20px;
  }
}
```

## Variable in JavaScript

æˆ‘å€‘å¯ä»¥ä½¿ç”¨ `document.documentElement.style.setProperty()` ä¾†ä¿®æ”¹åœ¨ `:root` çš„è®Šæ•¸ã€‚æˆ–æ˜¯ä½¿ç”¨ `querySelector()` ä¾†é¸æ“‡å…ƒç´ ï¼Œç„¶å¾Œä½¿ç”¨ `style.setProperty()` ä¾†ä¿®æ”¹è®Šæ•¸ã€‚

```js
const root = document.documentElement;
root.style.setProperty("--h1", "#f90");

const h2 = document.querySelector("h2");
h2.style.setProperty("--h2", "#ccc");
```

## Variable in React

åœ¨ React ä¸­ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨ `style` å±¬æ€§ä¾†è¨­å®šè®Šæ•¸ï¼Œä¾‹å¦‚ï¼š`style={{ "--h1-color": "#0747ab" }}`ã€‚ä½¿ç”¨è®Šæ•¸æ™‚ï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨ `var()` ä¾†å–å¾—è®Šæ•¸çš„å€¼ï¼Œä¾‹å¦‚ï¼š`color: var(--h1-color, #000)`ã€‚

```jsx live noInline
const Demo = () => {
  return (
    <div>
      <h1 style={{ "--h1-color": "#0747ab", color: "var(--h1-color, #000)" }}>
        Hello World
      </h1>
    </div>
  );
};

render(<Demo />);
```
